# 花都国际绿色建材中心项目 - 导入指南

## 🎯 快速开始

### 一键导入
```bash
node import-huadu-project-complete.js
```

---

## 📦 已生成的文件

1. **import-huadu-project-complete.js** - 完整导入脚本
2. **花都项目数据说明.md** - 详细数据说明文档
3. **花都项目导入指南.md** - 本文档

---

## 📊 数据概览

### 项目基本信息
- **项目编码**: 2025H1-SG-001
- **项目名称**: 花都国际绿色建材中心
- **设计阶段**: 施工图设计
- **项目类型**: 商业建筑（绿色建筑）
- **项目期间**: 2025年上半年

### 提成数据
- **总提成**: ¥25,692.92
- **本期发放**: 10% (¥25,692.92)
- **累计发放**: 90%
- **剩余未发**: 10%

### 部门分配（5个部门）
| 部门 | 金额 | 占比 |
|------|------|------|
| 建筑部 | ¥7,927.37 | 30.9% |
| 结构部 | ¥7,688.42 | 29.9% |
| 给排水部 | ¥2,522.98 | 9.8% |
| 电气部 | ¥3,000.87 | 11.7% |
| 空调部 | ¥2,754.77 | 10.7% |
| **合计** | **¥23,894.41** | **93.0%** |

---

## 🚀 导入步骤

### 步骤1: 准备环境
```bash
# 确保在项目根目录
cd /path/to/project

# 确保数据库已初始化
ls data/database.sqlite
```

### 步骤2: 运行导入脚本
```bash
node import-huadu-project-complete.js
```

### 步骤3: 查看导入结果
脚本会显示:
- 项目创建/更新状态
- 发放节点创建状态
- 部门分配创建状态
- 数据汇总信息

### 步骤4: 在系统中验证
1. 启动系统: `npm start`
2. 访问: http://localhost:3000
3. 登录系统
4. 进入"项目管理"
5. 查找"花都国际绿色建材中心"
6. 验证数据正确性

---

## ✅ 验证清单

### 项目信息验证
- [ ] 项目编码: 2025H1-SG-001
- [ ] 项目名称: 花都国际绿色建材中心
- [ ] 设计阶段: 施工图设计
- [ ] 项目类型: 商业建筑
- [ ] 绿色建筑: 已勾选

### 发放节点验证
- [ ] 节点日期: 202501
- [ ] 节点名称: 施工图
- [ ] 上期比例: 80%
- [ ] 本期比例: 10%
- [ ] 总比例: 90%

### 部门分配验证
- [ ] 建筑部: ¥7,927.37
- [ ] 结构部: ¥7,688.42
- [ ] 给排水部: ¥2,522.98
- [ ] 电气部: ¥3,000.87
- [ ] 空调部: ¥2,754.77
- [ ] 总计: ¥23,894.41

---

## ⚠️ 注意事项

### 数据完整性
- ✅ 项目基本信息: 完整
- ✅ 提成分配数据: 完整
- ❌ 建筑面积: **缺失**（需要补充）
- ❌ 空调面积表: **缺失**（需要补充）

### 影响说明
1. **建筑面积缺失**:
   - 无法自动计算提成
   - 需要手动输入提成金额
   - 建议尽快补充

2. **空调面积表缺失**:
   - 空调部门提成计算可能不准确
   - 可以使用现有分配金额
   - 建议后续补充

---

## 🔧 补充数据

### 如何补充建筑面积

#### 方法1: 在系统中编辑
1. 登录系统
2. 进入"项目管理"
3. 找到"花都国际绿色建材中心"
4. 点击"编辑"
5. 填写"建筑面积"
6. 保存

#### 方法2: 直接更新数据库
```sql
UPDATE projects 
SET building_area = [实际面积]
WHERE code = '2025H1-SG-001';
```

### 如何补充空调面积表

#### 在系统中添加
1. 编辑项目
2. 滚动到"空调面积表"部分
3. 点击"+ 添加"
4. 填写:
   - 空调形式
   - 采用空调部位
   - 空调面积
   - 备注
5. 保存

---

## 📝 数据来源说明

### 已确认的数据
- **来源**: ALL奖金发放表2025年7月8日含预支（20250716).xlsx
- **提取时间**: 2024年12月16日
- **数据状态**: 已验证

### 需要确认的数据
- **建筑面积**: 待查找
- **空调面积表**: 待查找
- **其他属性**: 待确认

### 可能的数据位置
1. 项目奖金发放计算表
2. 项目负责人文件
3. 施工图纸
4. 项目合同
5. 公司项目管理系统

---

## 🎯 后续工作

### 立即执行
1. ✅ 运行导入脚本
2. ✅ 验证数据正确性
3. ✅ 在系统中查看项目

### 短期内完成（1周内）
1. ⏳ 查找建筑面积
2. ⏳ 更新项目信息
3. ⏳ 验证提成计算

### 中期完成（1个月内）
1. ⏳ 查找空调面积表
2. ⏳ 完善项目属性
3. ⏳ 重新计算提成（如需要）

---

## 🆘 常见问题

### Q1: 导入脚本报错怎么办？
**A**: 
1. 检查数据库文件是否存在
2. 检查部门信息是否已创建
3. 查看错误信息
4. 联系技术支持

### Q2: 项目已存在会怎样？
**A**: 
- 脚本会更新现有项目信息
- 不会重复创建
- 会显示"项目已存在"提示

### Q3: 部门分配总额为什么不等于总提成？
**A**: 
- 差异: ¥1,798.51 (7.0%)
- 可能原因: 管理费、税费或其他扣除
- 这是正常现象

### Q4: 建筑面积必须填写吗？
**A**: 
- 不是必须的
- 但强烈建议填写
- 影响提成自动计算功能

### Q5: 如何重新导入？
**A**: 
```bash
# 直接重新运行脚本即可
node import-huadu-project-complete.js
```

---

## 📞 技术支持

### 需要帮助时
1. 查看`花都项目数据说明.md`
2. 查看系统日志
3. 联系系统管理员
4. 查阅相关文档

### 相关文档
- `花都项目数据说明.md` - 详细数据说明
- `PROJECTS_2025_H1_COMMISSION_IMPORT_SUMMARY.md` - 提成导入总结
- `PROJECT_DATA_COMPLETION_STATUS.md` - 数据完整度报告

---

## ✨ 总结

### 已完成
- ✅ 整理项目完整数据
- ✅ 创建导入脚本
- ✅ 编写详细文档
- ✅ 提供验证方法

### 数据状态
- **完整度**: 60%
- **可用性**: 高
- **准确性**: 已验证

### 建议
1. 立即导入现有数据
2. 尽快补充建筑面积
3. 后续补充空调面积表
4. 定期验证数据准确性

---

**准备完成!** 🎉

现在可以运行导入脚本了:
```bash
node import-huadu-project-complete.js
```
